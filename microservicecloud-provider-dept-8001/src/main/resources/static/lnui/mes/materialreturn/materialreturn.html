<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>退料单</title>
<!-- Tell the browser to be responsive to screen width -->
<meta
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    name="viewport">
<!-- Bootstrap 3.3.5 -->
<link rel="stylesheet"href="../../../jslib/leanway/loader_datatables.css">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
 <style type="text/css" mce_bogus="1">
table th {
    white-space: nowrap;
}

table td {
    white-space: nowrap;
}

</style>


</head>

<body style="overflow: auto;"
    class="hold-transition skin-blue-light sidebar-mini">
    <!-- header -->
    <div>
        <!-- <section class="content-header">
        <h1>&nbsp;</h1>
        <ol class="breadcrumb">
            <li><i class="fa fa-home"></i></li>
            <li class="active">生产追踪</li>
            <li class="active">退料单</li>
            <li class="active"></li>
    </ol>
</section> -->
        <!-- Your Page Content Here -->
        <section class="content">
            <div class="col-sm-4">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">退料单 </h3>&nbsp;
                        <label class="radio-inline">
                            <input type="radio" name="confirmstatus" id="confirmstatus0" value="0" checked>未确认
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="confirmstatus" id="confirmstatus1" value="2" >已确认
                        </label>
                         </br>
                         <button class="btn btn-default btn-flat btn-xs" data-toggle="modal"
                                onclick="addMaterialReturn()" id="addFun">新增</button>
                        <button class="btn btn-default btn-flat btn-xs" data-toggle="modal"
                        onclick="updateMaterialReturn()" id="updateFun">修改</button>
                        <button class="btn btn-default btn-flat btn-xs" data-toggle="modal"
                        onclick="confirmMaterialReturn()" id="confirmFun">确认入库</button> 
                            <!-- <a class="btn btn-danger" onclick="deleteBomTrack()" id="delFun">删除</a>&nbsp; -->
                        <div class="btn-group">
				      		<button aria-expanded="false" aria-haspopup="true" data-toggle="dropdown" class="btn btn-default btn-flat btn-xs dropdown-toggle" type="button" id="delFun">删除 <span class="caret"></span></button>
				     	      <ul class="dropdown-menu">
							        <li><a onclick="deleteMaterialReturn(1)" id="deleteCurrentFun">当前选中数据</a></li>
				      			    <li><a onclick="deleteMaterialReturn(2)" id="deleteAllFun">跨页选中数据</a></li>
						      </ul>
			    	    </div>
                        <div class="box-tools pull-right">
                            <button class="btn btn-box-tool" data-widget="collapse">
                                <i class="fa fa-minus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="box-body no-padding">

                            <div class="form-horizontal clearfix">

                        <div class="col-lg-12 col-sm-12 input-group">
                              <input type="text" placeholder="请输入关键字" id ="searchValue"  name = "searchValue" class="input-sm form-control">
                              <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary" onclick="searchMaterialReturn()"> 搜索</button> </span>
                        </div>

                    </div>
                        <table id="generalInfo"
                            class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <td style="width: 15px"><input type="checkbox" id="checkAll" onclick="com.leanway.dataTableCheckAll('generalInfo', 'checkAll', 'checkList')" class="regular-checkbox"><label for="checkAll"></label></td>

                                    <td>退料单号</td>
                                    <td>备料单号</td>

                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-sm-8">
            <div>
                <form class="form-horizontal" id="materialReturnForm">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">退料单</h3>&nbsp;
                            <button class="btn btn-default btn-flat btn-xs" id="saveOrUpdate"  type="button" onclick="saveMaterialReturn()">保存</button>
                            <div class="box-tools pull-right">
                                <a class="btn btn-box-tool" data-widget="collapse">
                                    <i class="fa fa-minus"></i>
                                </a>
                            </div>
                        </div>

                        <div class="box-body">
                            <div class="form-group">
                            <div class="col-sm-12 ">
                                    <input class="form-control" id="returnDetailVal" name="returnDetailVal"
                                        type="hidden"/>
                                        <input class="form-control" id="productionorderid" name="productionorderid"
                                        type="hidden"/>
                                </div>
                                <label class="col-sm-2 control-label" for="trackid">领料单</label>
                                <div class="col-sm-4 ">
                                    <select id="trackid" name="trackid"
                                            class="form-control select2"
                                            style="width: 100%;"></select>
                                </div>
                                <label class="col-sm-2 control-label" for="returntime">退料日期</label>
                                <div class="col-sm-4">
                                    <input class="form-control" id="returntime" name="returntime"
                                        type="text" />
                                </div>
                            </div>
                            <div class="form-group">

                                <label class="col-sm-2 control-label" for="barcode">条码</label>
                                <div class="col-sm-4 ">
                                    <input class="form-control" id="barcode" name="barcode"
                                        type="text"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    </form>
</div>
 <div class="box box-primary">
                        <div class="box-header">
                            <h3 class="box-title">物料</h3>&nbsp;
                            
							<a class="btn btn-default btn-flat btn-xs" data-toggle="modal"
                        onclick="printLabel()" id="printLabel">打印标签</a>
                            <div class="box-tools pull-right">
                                <a class="btn btn-box-tool" data-widget="collapse">
                                    <i class="fa fa-minus"></i>
                                </a>
                            </div>
                        </div>
                        <div class="box-body table-responsive no-padding">
         
                            <table id="grid-data"
                                class="table table-striped table-bordered table-hover">
                                <thead id="tableHead">
                                    <tr>
                                   <td style="width: 15px"><input type="checkbox" id="checkDetailAll" onclick="com.leanway.dataTableCheckAll('grid-data', 'checkDetailAll', 'checkDetailList')" class="regular-checkbox"><label for="checkDetailAll"></label></td>
                                    <td>组件</td>
                                    <td>组件描述</td>
                                    <td>单位</td>
                                    <td>仓库名称</td>
                                    <td>批次号</td>
                                    <td>子批次号</td>
                                    <td>序列号</td>
                                    <td>领料数量</td>
                                    <td>可退数量</td>
                                    <td>退料数量</td>
                                    <td>入库仓库</td>
                                    <td>退料状态</td>
                                    <td>退料原因</td>
                                </tr>
                                </thead>
                                <tbody id="tableBody">
                                </tbody>
                            </table>
                        </div>

                    </div>
            </div>

        </section>
        </div>
<div class="modal fade" id="tipModal" tabindex="-1" role="dialog"
        aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"
                        aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">提示</h4>
                </div>

                <div class="modal-body" id="tips">


                </div>
                <div class="modal-footer" id="sure">

            </div>
        </div>
    </div>
    </div>
    <!-- jQuery 2.1.4 -->
    <script src="../../../jslib/jQuery/jQuery-2.1.4.min.js"></script>
    <!-- Bootstrap 3.3.5 -->
    <script src="../../../jslib/bootstrap/js/bootstrap.min.js"></script>
    <!-- bootstrapValidator -->
    <script src="../../../jslib/bootstrap-validator/js/bootstrapValidator.js"></script>
    <script src="../../../jslib/bootstrap-validator/js/language/zh_CN.js"></script>
    <!-- SlimScroll -->
    <script src="../../../jslib/slimScroll/jquery.slimscroll.min.js"></script>
    <!-- FastClick -->
    <script src="../../../jslib/fastclick/fastclick.js"></script>
    <!-- AdminLTE App -->
    <script src="../../../jslib/adminlte/js/app.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="../../../jslib/adminlte/js/demo.js"></script>
    <!-- datetime -->
    <script type="text/javascript" src="../../../jslib/datetimepicker/bootstrap-datetimepicker.js" charset="UTF-8"></script>
    <script type="text/javascript" src="../../../jslib/datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>
    <!-- InputMask -->
    <script type="text/javascript" src="../../../jslib/leanway/jn_common.js"></script>
    <script type="text/javascript" src="../../../jslib/leanway/validate.js"></script>
    <!-- select2 -->
    <script src="../../../jslib/select2/select2.full.min.js"></script>
    <script src="../../../jslib/select2/i18n/zh-CN.js"></script>
    <script src="../../../jslib/iCheck/icheck.js"></script>
    <!-- DataTables -->
    <script src="../../../jslib/datatables/jquery.dataTables.js"></script>
    <script src="../../../jslib/datatables/dataTables.bootstrap.js"></script>
    <script src="../../../jslib/leanway/websocket.js"></script>
    <script type="text/javascript" src="materialreturn.js"></script>
</body>
</html>
