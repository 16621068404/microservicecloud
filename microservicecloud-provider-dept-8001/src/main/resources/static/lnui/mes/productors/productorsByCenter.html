<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>产品管理</title>
<!-- Tell the browser to be responsive to screen width -->
<meta
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    name="viewport">
<link rel="stylesheet"href="../../../jslib/leanway/loader_datatables.css">
</head>
<body class="hold-transition skin-blue-light sidebar-mini">



    <!-- left信息  显示主要内容    boostraps 自带是12的页面布局-->
    <!-- <div>
        <section class="content-header">
        <h1>&nbsp;</h1>
        <ol class="breadcrumb">
            <li><i class="fa fa-home"></i></li>
            <li class="active">生产基础资料</li>
            <li class="active">产品管理</li>
            <li class="active"></li>
    </ol>
</section>

    </div> -->
    <section class="content">
		<!-- 左边为4 -->
		<div class="col-sm-4">
			<div class="box box-primary">
				<div class="box-header with-border">
					<h3 class="box-title">产品总览</h3>&nbsp;
					<a class="btn btn-default btn-flat btn-xs" onclick="addProductors();"
							id="addProductorsFun">新增</a>
				    <a class="btn btn-default btn-flat btn-xs"
							onclick="modifyProductors();" id="editProductorsFun">修改</a>
					<!-- <a class="btn btn-default btn-flat btn-xs" onclick="deleteProductors();"
							id="deleteProductorsFun">删除</a> -->
					<div class="btn-group">
			      		<button aria-expanded="false" aria-haspopup="true" data-toggle="dropdown" class="btn btn-default btn-flat btn-xs dropdown-toggle" type="button" id="deleteProductorsFun">删除 <span class="caret"></span></button>
			     			<ul class="dropdown-menu">
						        <li><a onclick="deleteProductors(1)" id="deleteCurrentFun">当前选中数据</a></li>
			      			    <li><a onclick="deleteProductors(2)" id="deleteAllFun">跨页选中数据</a></li>
					      </ul>
			    	</div>
			    	<button onclick="dataSync();" id="dataSync" disabled="false" class="btn btn-default btn-flat   btn-xs">同步数据</button>

					<div class="box-tools pull-right">
						<button class="btn btn-box-tool" data-widget="collapse">
							<i class="fa fa-minus"></i>
						</button>
					</div>
					<!-- /.box-tools -->
				</div>
				<!-- /.box-header -->
				<div class="box-body">

					<div class="form-horizontal clearfix">

						<div class="col-lg-12 col-sm-12 input-group">
							<input type="text" placeholder="请输入关键字" id="queryProductorsname"
								name="queryProductorsname" class="input-sm form-control" /> <span
								class="input-group-btn"><button type="button"
									class="btn btn-sm btn-primary"
									onclick="queryProductorByName();">搜索</button> </span>
						</div>
					</div>
					<table id="generalInfo"
						class="table table-striped table-bordered table-hover">
						<thead>
							<tr>
								<td style="width: 15px"><input type="checkbox"
									id="checkAll" class="regular-checkbox"
									onclick="com.leanway.dataTableCheckAll('generalInfo', 'checkAll', 'checkList');"><label
									for="checkAll"></label></td>
								<td>产品编码</td>
								<td>产品长名</td>
							</tr>
						</thead>
						<tbody id="bodygeneralInfo">
						</tbody>
					</table>
				</div>
			</div>
			<!-- /.box -->
		</div>
		<!-- 	</div>
		</div> -->
		<!-- 表体   右边为8 -->
		<div class="col-sm-8">
			<div class="box box-primary">
				<div class="box-header with-border">
					<h3 class="box-title">产品管理</h3>&nbsp;
						<!-- <button class="btn btn-default btn-flat btn-xs" onclick="resetForm();"
							id="resetform">重置</button> -->

						<button class="btn btn-default btn-flat btn-xs" onclick="saveProductors();"
							id="saveOrUpdateAId">保存</button>&nbsp;
						<button type="button"
							class="btn btn-default btn-flat btn-xs" onclick="generateBarcode();"
							id="printBarcodebutton">条形码打印</button>
					  <div class="box-tools pull-right">
						<button class="btn btn-box-tool" data-widget="collapse">
							<i class="fa fa-minus"></i>
						</button>
					</div>
					</div>
					<!-- /.box-tools -->

					<!-- /.box-header -->
					<div class="box-body">

						<div class="box-body">
							<form class="form-horizontal" id="ProductorsForm"
								name="ProductorsForm">
								<div class="form-group">
									<!-- id的隐藏 -->
									<div class="col-sm-3">
										<input class="form-control" id="productorsCompanyVal"
											name="productorsCompanyVal" type="hidden"
											placeholder="子公司获取条件" />
									</div>
									<div class="col-sm-3">
										<input class="form-control" id="productorid"
											name="productorid" type="hidden" placeholder="产品编码" />
									</div>
									<div class="col-sm-3">
										<input class="form-control" id="compid" name="compid"
											type="hidden" placeholder="公司编号" />
									</div>
									<div class="col-sm-3">
										<input class="form-control" id="levels" name="levels"
											type="hidden" placeholder="模糊查询条件" />
									</div>
									<!-- id的隐藏 -->
									<label class="col-sm-2 control-label" for="productorname">产品编码</label>
									<div class="col-sm-4">
										<input class="form-control" id="productorname"
											name="productorname" type="text" placeholder="产品编码" />
									</div>
									<label class="col-sm-2 control-label" for="shortname">短名</label>
									<div class="col-sm-4">
										<input class="form-control" id="shortname" name="shortname"
											type="text" placeholder="短名" />
									</div>
								</div>

								<div class="form-group">
									<label class="col-sm-2 control-label" for="productordesc">长名</label>
									<div class="col-sm-4">
										<input class="form-control" id="productordesc"
											name="productordesc" placeholder="长名" />
									</div>
									<label class="col-sm-2 control-label" for="batchnumber">批次数量</label>
									<div class="col-sm-4">
										<input class="form-control" id="batchnumber"
											name="batchnumber" type="text" placeholder="批次数量" />
									</div>
								</div>

								<div class="form-group">
									<label class="col-sm-2 control-label" for="productortypeid">产品类型</label>
									<div class="col-sm-4">
										<select class="form-control" id="productortypeid"
											name="productortypeid"></select>
									</div>
									<label class="col-sm-2 control-label" for="material">材料/规格</label>
									<div class="col-sm-4">
										<input class="form-control" id="material"
											name="material" type="text" placeholder="材料规格 " />
									</div>
								</div>

								<div class="form-group">
									<label class="col-sm-2 control-label" for="drawcode">图号/代号</label>
									<div class="col-sm-4">
										<input class="form-control" id="drawcode" name="drawcode"
											type="text" placeholder="代号" />
									</div>

                                    <label class="col-sm-2 control-label" for="length">尺寸</label>
                                    <div class="col-sm-4">
                                        <input class="form-control" id="length" name="length"
                                            type="text" placeholder="尺寸" />
                                    </div>
                                </div>

								<div class="form-group">
									<label class="col-sm-2 control-label" for="leadtime">生产提前期</label>
									<div class="col-sm-3">
										<input class="form-control" id="leadtime" name="leadtime"
											type="text" placeholder="生产提前期" />
									</div>
									<div class="col-sm-1" style="padding-top: 8px;">分钟</div>
									<label class="col-sm-2 control-label" for="other">工艺路线</label>
									<div class="col-sm-4">
										<input class="form-control" id="other" name="other"
											type="text" placeholder="工艺路线" />
									</div>
								</div>

								<div class="form-group">
									<!-- <label class="col-sm-2 control-label" for="centerid">工作中心</label>
									<div class="col-sm-4">
										<select class="form-control" id="centerid"
											name="centerid"  onchange="loadEquipmentid();">
											从关联表里面取出来
										</select>
									</div> -->
									<label class="col-sm-2 control-label" for="equipmentid">排产生产线</label>
									<div class="col-sm-4 ">
										<select id="equipmentid" name="equipmentid"
											class="form-control select2" style="width: 100%">
										</select> <input class="form-control" id="equipmentname"
											name="equipmentname" type="hidden" />
									</div>
									<label class="col-sm-2 control-label" for="productorcategoryid">产品分类</label>
									<div class="col-sm-4">
										<select class="form-control" id="productorcategoryid"
											name="productorcategoryid"></select>
									</div>
								</div>

								<div class="form-group">
									<label class="col-sm-2 control-label" for="headcompanyid">关联总公司</label>
									<div class="col-sm-4">
										<select class="form-control" id="headcompanyid"
											name="headcompanyid" disabled>
											<!-- 从关联表里面取出来 -->
										</select>
									</div>
									<label class="col-sm-2 control-label" for="warehouse">仓储点</label>
									<div class="col-sm-4">
										<input class="form-control" id="warehouse" name="warehouse"
											type="text" placeholder="示例(A100101)" />
									</div>

								</div>

								<div class="form-group">

									<label class="col-sm-2 control-label" for="barcodevalue">条形码</label>
									<div class="col-sm-4">
										<input class="form-control" id="barcodevalue"
											name="barcodevalue" type="text" placeholder="条形码" />
									</div>
								</div>


								<div class="box box-default collapsed-box">
									<div class="box-header with-border">
										<h3 class="box-title">计量单位</h3>
										<div class="box-tools pull-right">
											<a class="btn btn-box-tool" data-widget="collapse">
												<i class="fa fa-minus"></i>
											</a>
										</div>
										<!-- /.box-tools -->
									</div>
									<!-- /.box-header -->
									<div class="box-body">
										<div class="form-group">
											<label class="col-sm-2 control-label">库存单位</label>
											<div class="col-sm-4">
												<select class="form-control" id="unitsid" name="unitsid">
													<!-- 从计量单位表里面取出来 -->
												</select>
											</div>
											<label class="col-sm-2 control-label">销售单位</label>
											<div class="col-sm-4">
												<select class="form-control" id="salesunitsid" name="salesunitsid">
													<!-- 从计量单位表里面取出来 -->
												</select>
											</div>
										</div>
										<div class="form-group">
                                            <label class="col-sm-2 control-label">采购单位</label>
                                            <div class="col-sm-4">
                                                <select class="form-control" id="purchaseunits" name="purchaseunits">
                                                    <!-- 从计量单位表里面取出来 -->
                                                </select>
                                            </div>
                                            <label class="col-sm-2 control-label">包装单位</label>
                                            <div class="col-sm-4">
                                                <select class="form-control" id="packunits" name="packunits">
                                                    <!-- 从计量单位表里面取出来 -->
                                                </select>
                                            </div>
                                        </div>
									</div>
									<!-- /.box-body -->
								</div>


								<div class="box box-default collapsed-box">
									<div class="box-header with-border">
										<h3 class="box-title">生产地点</h3>
										<div class="box-tools pull-right">
											<a class="btn btn-box-tool" data-widget="collapse">
												<i class="fa fa-minus"></i>
											</a>
										</div>
									</div>
									<div class="box-body">
										<div class="form-group">
											<label class="col-sm-2 control-label">采购员</label>
											<div class="col-sm-4">
												<input class="form-control" id="buyer" name="buyer"
													type="text" placeholder="采购员 " />
											</div>
											<label class="col-sm-2 control-label">计划员</label>
											<div class="col-sm-4">
												<input class="form-control" id="planner" name="planner"
													type="text" placeholder="计划员 " />
											</div>
										</div>

										<div class="form-group">
											<label class="col-sm-2 control-label">批次管理</label>
											<div class="col-sm-3">
												<label><input id="batch" name="batch" type="radio" value="0"
													checked />是 </label> <label><input name="batch" value="1"
													type="radio" />否 </label>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2 control-label">条形码管理</label>
											<div class="col-sm-2">
												<label><input id="barcode"  name="barcode" type="radio" value="0"
													checked />是 </label> <label><input name="barcode"
													value="1" type="radio" />否 </label>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-2 control-label">序列号管理</label>
											<div class="col-sm-3">
												<label><input id="serialnumber" name="serialnumber" type="radio"
													value="0" checked />是 </label> <label><input
													name="serialnumber" value="1" type="radio" />否 </label>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2 control-label">采集件管理</label>
											<div class="col-sm-3">
												<label><input  id="acquisition" name="acquisition" type="radio"
													value="0" checked />是 </label> <label><input
													name="acquisition" value="1" type="radio" />否 </label>
											</div>
										</div>
									</div>
								</div>
							</form>
							<!-- /.box -->
								<div class="box box-default collapsed-box">
									<div class="box-header with-border">
										<h3 class="box-title">单位转换</h3>

										<a class="btn btn-default btn-flat btn-xs" onclick="addUnitConversion();"
										id="addUnitConversion">新增</a>
										<a class="btn btn-default btn-flat btn-xs" onclick="editUnitConversion();"
										id="editUnitConversion">修改</a>
										<a class="btn btn-default btn-flat btn-xs" onclick="deleteUnitConversion();"
										id="deleteUnitConversion">删除</a>
										<a class="btn btn-default btn-flat btn-xs" onclick="saveUnitConversion();"
										id="saveUnitConversion">保存</a>

										<div class="box-tools pull-right">
											<a class="btn btn-box-tool" data-widget="collapse">
												<i class="fa fa-minus"></i>
											</a>
										</div>
									</div>

								<div class="box-body" >

									<table id="unitConversionTable"
										class="table table-striped table-bordered table-hover">
										<thead>
											<tr>
												<th style="width: 33px;height:35">
													<input type="checkbox"
									id="unitconversionAll" class="regular-checkbox"
									onclick="com.leanway.dataTableCheckAll('unitConversionTable', 'unitconversionAll', 'unitconversionid');"><label
									for="unitconversionAll"></label></th>
												<th>数量</th>
												<th>单位</th>
												<th style='text-align:center;'>=</th>
												<th>数量</th>
												<th>单位</th>
											</tr>
										</thead>
										<tbody id="unitconversionbody">
										</tbody>
									</table>

									</div>
								</div>
							<!-- /.box-body -->
							<div class="box box-default collapsed-box">
								<div class="box-header with-border">
									<h3 class="box-title">产品下发</h3>
									<div class="box-tools pull-right">
										<button class="btn btn-box-tool" data-widget="collapse">
											<i class="fa fa-minus"></i>
										</button>
									</div>
								</div>
								<div class="box-body">
									<table id="productorIssued"
										class="table table-striped table-bordered table-hover">
										<thead>
											<tr>
												<th style="width: 15px">
													<input type="checkbox"
									id="checkCompany" class="regular-checkbox"
									onclick="com.leanway.dataTableCheckAll('productorIssued', 'checkCompany', 'checkSonCompany');"><label
									for="checkCompany"></label></th>
												<th>子公司</th>
												<th>子公司产品条码</th>
											</tr>
										</thead>
										<tbody id="bodyproductorIssued">
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">

					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-hidden="true">&times;</button>
						<h4 class="modal-title" id="myModalLabel">打印条码</h4>
					</div>

					<div class="modal-body" id="printarea">
						<center>
							<div id="barcodeTarget" class="barcodeTarget"></div>
						</center>
						<center>
							<canvas id="canvasTarget" width="150" height="150"></canvas>
						</center>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary"
							onclick="printBarcode();" />
						打印
						</button>
						<button type="button" class="btn btn-default" id="modalClose"
							data-dismiss="modal">关闭</button>
					</div>
				</div>
			</div>
		</div>
		<!-- /.box-body -->
	</section>
	<div class="modal fade" id="tipModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">提示</h4>
				</div>

				<div class="modal-body" id="tips"></div>
				<div class="modal-footer" id="sure"></div>
			</div>
		</div>
	</div>

	<!-- jQuery 2.1.4 -->
	<script src="../../../jslib/jQuery/jQuery-2.1.4.min.js"></script>
	<!-- Bootstrap 3.3.5 -->
	<script src="../../../jslib/bootstrap/js/bootstrap.min.js"></script>
	<!-- SlimScroll -->
	<script src="../../../jslib/slimScroll/jquery.slimscroll.min.js"></script>
	<!-- FastClick -->
	<script src="../../../jslib/fastclick/fastclick.js"></script>
	<!-- AdminLTE App -->
	<script src="../../../jslib/adminlte/js/app.min.js"></script>
	<!--Select2  -->
	<script src="../../../jslib/select2/select2.full.min.js"></script>
	<script src="../../../jslib/select2/i18n/zh-CN.js"></script>
	<!-- InputMask -->
	<script type="text/javascript" src="../../../jslib/leanway/jn_common.js"></script>
	<!-- DataTables -->
	<script src="../../../jslib/datatables/jquery.dataTables.js"></script>
	<script src="../../../jslib/datatables/dataTables.bootstrap.js"></script>
	<script
		src="../../../jslib/bootstrap-validator/js/bootstrapValidator.js"></script>
	<script src="../../../jslib/bootstrap-validator/js/language/zh_CN.js"></script>
	<script type="text/javascript"
		src="../../../jslib/barcode/jquery-barcode.js"></script>
	<script type="text/JavaScript"
		src="../../../jslib/ritsc-printarea/demo/jquery.PrintArea.js"></script>
	<script type="text/javascript" src="productorsByCenter.js"></script>
</body>
</html>