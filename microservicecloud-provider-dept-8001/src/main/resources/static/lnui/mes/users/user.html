<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>用户管理</title>
<meta
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
	name="viewport">

<!-- Bootstrap 3.3.5 -->
<link rel="stylesheet" href="../../../jslib/bootstrap/css/bootstrap.min.css">
<!-- Font Awesome -->
<link rel="stylesheet" href="../../../jslib/bootstrap-validator/css/bootstrapValidator.css">

<link rel="stylesheet"
	href="../../../jslib/font-awesome-4.4.0/css/font-awesome.css">
<!-- Ionicons -->
<link rel="stylesheet"
	href="../../../jslib/ionicons-2.0.1/css/ionicons.min.css">
<!-- DataTables -->
<link rel="stylesheet"
	href="../../../jslib/datatables/dataTables.bootstrap.css">
<!-- Theme style -->
<!--   <link rel="stylesheet" href="../../../jslib/adminlte/css/AdminLTE.min.css"> -->
<!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
<link rel="stylesheet" href="../../../jslib/adminlte/css/skins/_all-skins.min.css">

<!-- <link href="../../../jslib/datetimepicker/jquery.datetimepicker.css"
	rel="stylesheet" type="text/css" /> -->
<!-- ztree -->
<link href="../../../jslib/zTree/css/zTreeStyle/zTree.css" rel="stylesheet" type="text/css"/>
<link href="../../../jslib/datatables/dataTables.bootstrap.css"rel="stylesheet" type="text/css" />

<link href="../../../jslib/leanway/common.css" rel="stylesheet"
	type="text/css" />
<link href="../../../jslib/datetimepicker/bootstrap-datetimepicker.min.css"
    rel="stylesheet" type="text/css" />
<link href="../../../jslib/datetimepicker/bootstrap-datetimepicker.css"
    rel="stylesheet" type="text/css" />
<!--[if lt IE 9]>
  <script src="plugin/html5shiv.3.7.3/html5shiv.min.js"></script>
  <script src="plugin/respond.1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body style="overflow: auto;"
	class="hold-transition skin-blue-light sidebar-mini">
	<div>
		<!-- Content Header (Page header) -->
		<section class="content-header">
			<ol class="breadcrumb">
				<li><i class="fa fa-home"></i></li>
				<li class="active">权限管理</li>
				<li class="active">用户管理</li>
				<br>
				<br>
				<button onclick="addUser();" class="btn btn-default btn-flat  btn-xs" data-toggle="modal"
					id="addFun">新增</button>&nbsp;
				<button class="btn btn-default btn-flat  btn-xs" onclick="showEditUser();" id="editFun">修改</button>&nbsp;
				<button type="button" class="btn btn-default btn-flat  btn-xs" onclick="getPassword()" id="resetPassword">重置密码</button>&nbsp;
				<div class="btn-group">
		      		<button id="deleteFun" aria-expanded="false" aria-haspopup="true" data-toggle="dropdown" class="btn btn-default btn-flat btn-xs dropdown-toggle" type="button">删除 <span class="caret"></span></button>
		     			<ul class="dropdown-menu">
					        <li><a onclick="deleteUser(1)" id="deleteCurrentFun">当前选中数据</a></li>
		      			    <li><a onclick="deleteUser(2)" id="deleteAllFun">跨页选中数据</a></li>
				      </ul>
		    	</div>
				<button class="btn btn-default btn-flat  btn-xs" onclick="showRole();" id="showRole">关联角色</button>&nbsp;
				<button class="btn btn-default btn-flat  btn-xs" onclick="showEmployee();"
					id="showEmployee">关联雇员</button>&nbsp;
			</ol>
		</section>

		<!-- Main content -->
		<section class="content">
		<div >
		  <div class="form-horizontal clearfix">

           <div class="col-lg-6 col-sm-6 input-group">
                 <input type="text" placeholder="请输入查询的用户名" id ="searchValue"  name = "searchValue" class="input-sm form-control">
                 <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary" onclick="searchUsers()"> 搜索</button> </span>
           </div>

           </div>

			<!-- Your Page Content Here -->

			<table id="grid-data"
				class="table table-striped table-bordered table-hover">
				<thead>
					<tr>
						<th style="width: 15px"><input type="checkbox" id="checkAll"
							class="regular-checkbox"
							onclick="com.leanway.dataTableCheckAll('grid-data', 'checkAll', 'checkList');"><label
							for="checkAll"></label></th>
						<th>用户名</th>
						<th>公司名称</th>
						<th>雇员名称</th>
						<th>手机</th>
						<th>电话</th>
						<th>微信</th>
						<th>注册时间</th>
<!-- 						<th>开始时间</th>
						<th>结束时间</th> -->
					</tr>
				</thead>
				<tbody>
				</tbody>
			</table>
		</section>
		<!-- /.content -->
	</div>

	<!-- 模态框（Modal） 新增用框-->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">新增用户</h4>
				</div>

				<div class="modal-body">
					<form class="form-horizontal" id="userForm">
						<div class="box-body">

							<div class="form-group">

								<label class="col-sm-2 control-label" for="userName">用户名</label>
								<div class="col-sm-4 ">
								  <div class="newuserName">
									<input class="form-control" id="userName" name="userName"
										type="text" placeholder="用户名" />
								  </div>
								</div>
							</div>

							<div class="form-group">

								<label class="col-sm-2 control-label" for="password">密码</label>
								<div class="col-sm-4">
									<input class="form-control" id="password" name="password"
										type="password" placeholder="密码" />
								</div>

								<label class="col-sm-2 control-label" for="confirmPassword">确认密码</label>
								<div class="col-sm-4">
									<input class="form-control" id="confirmPassword" name="confirmPassword"
										type="password" placeholder="确认密码" />
								</div>
							</div>

							<div class="form-group">

								<label class="col-sm-2 control-label" for="phone">电话</label>
								<div class="col-sm-4">
									<input class="form-control" id="phone" name="phone" type="text"
										placeholder="电话" />
								</div>

								<label class="col-sm-2 control-label" for="mobile">手机</label>
								<div class="col-sm-4">
									<input class="form-control" id="mobile" name="mobile"
										type="text" placeholder="手机号" />
								</div>
							</div>

							<div class="form-group">

								<label class="col-sm-2 control-label" for="qq">qq</label>
								<div class="col-sm-4">
									<input class="form-control" id="qq" name="qq" type="text"
										placeholder="qq" />
								</div>

								<label class="col-sm-2 control-label" for="wechat">微信</label>
								<div class="col-sm-4">
									<input class="form-control" id="wechat" name="wechat"
										type="text" placeholder="微信" />
								</div>
							</div>

							<div class="form-group">

								<label class="col-sm-2 control-label" for="weibo">微博</label>
								<div class="col-sm-4">
									<input class="form-control" id="weibo" name="weibo" type="text"
										placeholder="微博" />
								</div>

								<label class="col-sm-2 control-label" for="area">区号</label>
								<div class="col-sm-4">
									<input class="form-control" id="area" name="area" type="text"
										placeholder="区号" />
								</div>
							</div>
						</div>

					</form>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-default" id="modalClose"
						data-dismiss="modal">关闭</button>
					<button type="button" class="btn btn-primary" id="saveUser">保存</button>
				</div>

			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal -->
	</div>


	<!-- 模态框（Modal） 修改用框-->
	<div class="modal fade" id="myModalUpdate" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">修改用户</h4>
				</div>

				<div class="modal-body">
					<form class="form-horizontal" id="uptateUserForm">
						<div class="box-body">

							<div class="form-group">
								<!-- 存放ID的 -->
								<input type="hidden" class="form-control" id="userId" name="userId">


								<label class="col-sm-2 control-label" for="userName">用户名</label>
								<div class="col-sm-4 ">
								  <div class="newuserName">
									<input class="form-control" id="userName" name="userName"
										type="text" placeholder="用户名" />
								  </div>
								</div>
							</div>

							<div class="form-group">

								<label class="col-sm-2 control-label" for="phone">电话</label>
								<div class="col-sm-4">
									<input class="form-control" id="phone" name="phone" type="text"
										placeholder="电话" />
								</div>

								<label class="col-sm-2 control-label" for="mobile">手机</label>
								<div class="col-sm-4">
									<input class="form-control" id="mobile" name="mobile"
										type="text" placeholder="手机号" />
								</div>
							</div>

							<div class="form-group">

								<label class="col-sm-2 control-label" for="qq">qq</label>
								<div class="col-sm-4">
									<input class="form-control" id="qq" name="qq" type="text"
										placeholder="qq" />
								</div>

								<label class="col-sm-2 control-label" for="wechat">微信</label>
								<div class="col-sm-4">
									<input class="form-control" id="wechat" name="wechat"
										type="text" placeholder="微信" />
								</div>
							</div>

							<div class="form-group">

								<label class="col-sm-2 control-label" for="weibo">微博</label>
								<div class="col-sm-4">
									<input class="form-control" id="weibo" name="weibo" type="text"
										placeholder="微博" />
								</div>

								<label class="col-sm-2 control-label" for="area">区号</label>
								<div class="col-sm-4">
									<input class="form-control" id="area" name="area" type="text"
										placeholder="区号" />
								</div>
							</div>
						</div>

					</form>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-default" id="modalClose"
						data-dismiss="modal">关闭</button>
					<button type="button" class="btn btn-primary" id="updateUser">保存</button>
				</div>

			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal -->
	</div>

	<!-- 模态框（Modal） 重置密码用框-->
	<div class="modal fade" id="myModalReset" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">重置密码</h4>
				</div>

				<div class="modal-body">
					<form class="form-horizontal" id="resetPasswordForm">
						<div class="box-body">

							<div class="form-group">
								<!-- 存放ID的 -->
								<input type="hidden" class="form-control" id="userId" name="userId">

								<label class="col-sm-2 control-label" for="userName">用户名</label>
								<div class="col-sm-4 ">
								  <div class="newuserName">
									<input class="form-control" id="userName" name="userName"
										type="text" placeholder="用户名" />
								  </div>
								</div>
							</div>

							<div class="form-group">

								<label class="col-sm-2 control-label" for="password">密码</label>
								<div class="col-sm-4">
									<input class="form-control" id="password" name="password"
										type="password" placeholder="密码" />
								</div>

								<label class="col-sm-2 control-label" for="confirmPassword">确认密码</label>
								<div class="col-sm-4">
									<input class="form-control" id="confirmPassword" name="confirmPassword"
										type="password" placeholder="确认密码" />
								</div>
							</div>


						</div>

					</form>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-default" id="modalClose"
						data-dismiss="modal">关闭</button>
					<button type="button" class="btn btn-primary" onclick="passwordReset()">保存</button>
				</div>

			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal -->
	</div>



	<!-- role tree -->
	<div>
		<div class="modal fade" id="roleTree" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-hidden="true">&times;</button>
						<h4 class="modal-title" id="myModalLabel">关联角色</h4>
					</div>

					<div class="modal-body">
						<!-- tree  -->
						<ul id="tree" class="ztree"></ul>
					</div>

					<div class="modal-footer">
						<button type="button" class="btn btn-default" id="modalClose"
							data-dismiss="modal">关闭</button>
						<button type="button" class="btn btn-primary" id="saveUserRole">关联角色</button>
					</div>

				</div>
			</div>
		</div>
	</div>

	<!-- employee -->
	<div>

		<div class="modal fade bs-example-modal-lg" id="employeeModal"
			tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
			aria-hidden="true">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-hidden="true">&times;</button>
						<h4 class="modal-title" id="myModalLabel">关联雇员</h4>
					</div>

					<div class="modal-body">
						<div class="col-sm-6">
						  <div class="form-horizontal">
					           <div class="col-lg-12 col-sm-12 input-group">
					                  <input type="text" placeholder="请输入查询关键字" id ="searchEmployee"  name = "searchEmployee" class="input-sm form-control">
					                 <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary" onclick="searchEmployee( )"> 搜索</button> </span>
					           </div>
						  </div>
						</div>
						<input type="hidden" class="form-control" id="userNamePost" name="userNamePost">
						<table id="employeeTables"
							class="table table-striped table-bordered table-hover">
							<thead>
								<tr>
									<th style="width: 15px"><input type="checkbox"
										id="employeeCheckAll" class="regular-checkbox"
										onclick="com.leanway.dataTableCheckAll('employeeTables', 'employeeCheckAll', 'employeeCheckList');"><label
										for="employeeCheckAll"></label></th>
									<th>姓名</th>
									<th >公司</th>
									<th>职务</th>
									<th>手机</th>
								</tr>
							</thead>

							<tbody>
							</tbody>

						</table>

					</div>

					<div class="modal-footer">
						<button type="button" class="btn btn-default" id="modalClose"
							data-dismiss="modal">关闭</button>
						<button type="button" class="btn btn-primary"
							id="saveUserEmployee">关联雇员</button>
					</div>

				</div>
			</div>
		</div>

	</div>
	<div class="modal fade" id="tipModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">提示</h4>
				</div>

				<div class="modal-body" id="tips"></div>
				<div class="modal-footer" id="sure"></div>
			</div>
		</div>
</div>

	<!-- jQuery 2.1.4 -->
	<script src="../../../jslib/jQuery/jQuery-2.1.4.min.js"></script>
	<!-- Bootstrap 3.3.5 -->
	<script src="../../../jslib/bootstrap/js/bootstrap.min.js"></script>
	<!-- DataTables -->
	<script src="../../../jslib/datatables/jquery.dataTables.js"></script>
	<script src="../../../jslib/datatables/dataTables.bootstrap.js"></script>
	<!-- bootstrapValidator -->
	<script src="../../../jslib/bootstrap-validator/js/bootstrapValidator.js"></script>
	<script src="../../../jslib/bootstrap-validator/js/language/zh_CN.js"></script>
	<!-- SlimScroll -->
	<script src="../../../jslib/slimScroll/jquery.slimscroll.min.js"></script>
	<!-- FastClick -->
	<script src="../../../jslib/fastclick/fastclick.js"></script>
	<!-- AdminLTE App -->
	<!-- <script src="../../../jslib/adminlte/js/app.min.js"></script> -->
	<!-- datetime -->
	<script type="text/javascript" src="../../../jslib/datetimepicker/bootstrap-datetimepicker.js" charset="UTF-8"></script>
    <script type="text/javascript" src="../../../jslib/datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>
	<!-- md5-->
	<script src="../../../jslib/jQueryMD5/jQuery.md5.js"></script>
	<!-- ztree -->
	<script src="../../../jslib/zTree/js/jquery.ztree.all-3.5.min.js"></script>
	<script type="text/javascript" src="../../../jslib/leanway/jn_common.js"></script>
	<script type="text/javascript" src="user.js"></script>


</body>

</html>
